## gid is not accepted

File created by 1000:1000 in Debian client becomes to be owned by 1000:0. Looks
like the uid is accepted by the server but the gid is not.

I captured 2049/tcp communication on the client side. While capturing packets
I created a file named "hoge.txt" in the shared directory. The dump showed no
string "1000" went from the client to the server but a client message contained
two `0x03e8` (= 1000 in decimal). The cliennt sent an "open" message with
`0x03e8`, and the server response contained "1000" and "0", which should have
been the uid and the gid assigned to the newly created file.

Client to server. Note the two occurrences of `03e8` in the 0x0070 row. The
same bytes appears in the 0x00a0 row.
```
17:06:59.593254 IP 10.94.216.11.667 > 10.94.216.10.nfs: Flags [P.], seq 269:557, ack 249, win 1002, options [nop,nop,TS val 1578526716 ecr 3568280022], length 288: NFS request xid 4068086515 284 getattr fh 0,0/22
        0x0000:  0004 0001 0006 0800 2721 1b24 0000 0800  ........'!.$....
        0x0010:  4500 0154 abb8 4000 4006 c919 0a5e d80b  E..T..@.@....^..
        0x0020:  0a5e d80a 029b 0801 2fd3 b966 32c0 35d9  .^....../..f2.5.
        0x0030:  8018 03ea c618 0000 0101 080a 5e16 67fc  ............^.g.
        0x0040:  d4af a1d6 8000 011c f27a 12f3 0000 0000  .........z......
        0x0050:  0000 0002 0001 86a3 0000 0004 0000 0001  ................
        0x0060:  0000 0001 0000 0040 0106 27b4 0000 0006  .......@..'.....
        0x0070:  6275 7374 6572 0000 0000 03e8 0000 03e8  buster..........
        0x0080:  0000 0009 0000 0018 0000 0019 0000 001b  ................
        0x0090:  0000 001d 0000 001e 0000 002c 0000 002e  ...........,....
        0x00a0:  0000 006d 0000 03e8 0000 0000 0000 0000  ...m............
        0x00b0:  0000 0000 0000 0000 0000 0005 0000 0016  ................
        0x00c0:  0000 001c eae2 d3e4 defc 2052 0a00 53a1  ...........R..S.
        0x00d0:  0000 0000 c01d 0000 0000 0000 0000 0000  ................
        0x00e0:  0000 0012 0000 000c 0000 0002 0000 0000  ................
        0x00f0:  f028 d55e 0200 0000 0000 0018 6f70 656e  .(.^........open
        0x0100:  2069 643a 0000 002b 0000 0000 0000 0009  .id:...+........
        0x0110:  4707 d676 0000 0001 0000 0000 0000 0002  G..v............
        0x0120:  0000 0010 0000 0002 0000 000c 0000 0000  ................
        0x0130:  0000 0000 0000 01a4 0000 0000 0000 0008  ................
        0x0140:  686f 6765 2e74 7874 0000 000a 0000 0003  hoge.txt........
        0x0150:  0000 002d 0000 0009 0000 0002 0010 011a  ...-............
        0x0160:  00b0 a23a                                ...:
```

Response from server. It does not contain `03e8`. Instead it contains ASCII
strings "1000" and "0" before and after 0x0140.
```
17:06:59.594212 IP 10.94.216.10.nfs > 10.94.216.11.667: Flags [P.], seq 249:569, ack 557, win 29127, options [nop,nop,TS val 3568283080 ecr 1578526716], length 320: NFS reply xid 4068086515 reply ok 316 getattr NON 5 ids 0/18 sz 0
        0x0000:  0000 0001 0006 0800 2754 62c4 0000 0800  ........'Tb.....
        0x0010:  4500 0174 0000 4000 4006 74b2 0a5e d80a  E..t..@.@.t..^..
        0x0020:  0a5e d80b 0801 029b 32c0 35d9 2fd3 ba86  .^......2.5./...
        0x0030:  8018 71c7 40db 0000 0101 080a d4af adc8  ..q.@...........
        0x0040:  5e16 67fc 8000 013c f27a 12f3 0000 0001  ^.g....<.z......
        0x0050:  0000 0000 0000 0000 0000 0000 0000 0000  ................
        0x0060:  0000 0000 0000 0000 0000 0005 0000 0016  ................
        0x0070:  0000 0000 0000 0012 0000 0000 0000 0001  ................
        0x0080:  f028 d55e 0200 0000 0600 0000 0000 0000  .(.^............
        0x0090:  0000 0000 007a 4659 0000 0000 007a 465a  .....zFY.....zFZ
        0x00a0:  0000 0006 0000 0002 0000 0010 0000 0002  ................
        0x00b0:  0000 0000 0000 000a 0000 0000 0000 001c  ................
        0x00c0:  eae2 d3e4 defc 2052 0a00 3200 0100 0000  .......R..2.....
        0x00d0:  f220 0000 0000 0000 0000 0000 0000 0003  ................
        0x00e0:  0000 0000 0000 002d 0000 000d 0000 0009  .......-........
        0x00f0:  0000 0000 0000 0002 0010 011a 00b0 a23a  ...............:
        0x0100:  0000 0080 0000 0001 0000 0000 007a 4653  .............zFS
        0x0110:  0000 0000 0000 0000 0000 0000 e4d3 e2ea  ................
        0x0120:  0000 0000 5220 fcde 0000 0000 0001 0032  ....R..........2
        0x0130:  0000 01a4 0000 0001 0000 0004 3130 3030  ............1000
        0x0140:  0000 0001 3000 0000 ffff fe7c 0f5e 0060  ....0......|.^.`
        0x0150:  0000 0000 0000 0200 0000 0000 5ed5 35b1  ............^.5.
        0x0160:  1329 a3c0 0000 0000 5ed5 35b1 1329 a3c0  .)......^.5..)..
        0x0170:  0000 0000 5ed5 35b1 1329 a3c0 0000 0000  ....^.5..)......
        0x0180:  0001 0032                                ...2
```

I'd learn the wire format to understand what is happening:
https://tools.ietf.org/html/rfc7530


### OPEN operation does not take owner_group

https://tools.ietf.org/html/rfc7530#section-16.16

OPEN takes an owner, but it does not take owner_group. Now I doubt there is a way to set gid on file creation when using NFSv4 without idmap. Still, gid might be sent along OPEN because I don't understand yet whether additional attributes can be/are attached to OPEN or not.

FreeBSD and Linux implementations:

- https://github.com/freebsd/freebsd/blob/release/12.1.0/sys/fs/nfsserver/nfs_nfsdserv.c#L2723
- https://github.com/torvalds/linux/blob/v5.7/fs/nfsd/nfs4xdr.c#L906
- https://github.com/torvalds/linux/blob/v5.7/fs/nfsd/nfs4proc.c#L351

Looks like only owner is received upon handling OPEN. Still 
